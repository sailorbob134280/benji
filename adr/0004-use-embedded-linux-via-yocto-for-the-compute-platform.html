

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4. Use embedded linux via Yocto for the compute platform &mdash; Benji Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=414a3882" />

  
    <link rel="shortcut icon" href="../_static/logo.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script type="module" src="../_static/js/custom.js?v=13a5d2d9"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. Version and build all apps as a single entity" href="0005-version-and-build-all-apps-as-a-single-entity.html" />
    <link rel="prev" title="3. Use Zephyr for the RT control core" href="0003-use-zephyr-for-the-rt-control-core.html" />
  <meta name="color-scheme" content="dark light">
  
  <noscript id="dark-mode-toggle-stylesheets">
    <link rel="stylesheet" href="../_static/css/light.css" type="text/css" media="(prefers-color-scheme: light)"/>
    <link rel="stylesheet" href="../_static/css/dark.css" type="text/css" media="(prefers-color-scheme: dark)"/>
  </noscript>
  <script src="../_static/js/dark-mode-toggle-stylesheets-loader.min.js"></script>
  <script type="module" src="../_static/js/dark-mode-toggle.min.mjs"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div class="search-container" role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="search" name="q" placeholder="Search docs"
           aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  <div data-nosnippet>
    
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../architecture/index.html">Architecture</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../architecture/index.html#architectural-decision-records">Architectural Decision Records</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="0001-record-architecture-decisions.html">1. Record architecture decisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="0002-split-compute-and-real-time-control-to-separate-processors.html">2. Split compute and real time control to separate processors</a></li>
<li class="toctree-l3"><a class="reference internal" href="0003-use-zephyr-for-the-rt-control-core.html">3. Use Zephyr for the RT control core</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">4. Use embedded linux via Yocto for the compute platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#status">Status</a></li>
<li class="toctree-l4"><a class="reference internal" href="#context">Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decision">Decision</a></li>
<li class="toctree-l4"><a class="reference internal" href="#consequences">Consequences</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="0005-version-and-build-all-apps-as-a-single-entity.html">5. Version and build all apps as a single entity</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gnc/index.html">Guidance, Navigation, and Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/index.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/index.html">Projects</a></li>
</ul>

    
  </div>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Benji</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
  <!--  -->
  
  
  
  

  <li><a href="../index.html">Docs</a> &raquo;</li>
  
     <li><a href="../architecture/index.html">Architecture</a> &raquo;</li>
  
  <li>4. Use embedded linux via Yocto for the compute platform</li>


  <li class="wy-breadcrumbs-aside">
    <dark-mode-toggle id="dark-mode-toggle" appearance="toggle" permanent="true"/>
  </li>
  <li class="wy-breadcrumbs-aside">
  </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="use-embedded-linux-via-yocto-for-the-compute-platform">
<h1>4. Use embedded linux via Yocto for the compute platform<a class="headerlink" href="#use-embedded-linux-via-yocto-for-the-compute-platform" title="Link to this heading"></a></h1>
<p>Date: 2025-11-23</p>
<section id="status">
<h2>Status<a class="headerlink" href="#status" title="Link to this heading"></a></h2>
<p>Accepted</p>
</section>
<section id="context">
<h2>Context<a class="headerlink" href="#context" title="Link to this heading"></a></h2>
<p>Following <a class="reference internal" href="0002-split-compute-and-real-time-control-to-separate-processors.html"><span class="std std-doc">ADR-0002</span></a>, we have decided to split Benji’s compute and real-time control tasks to separate processors. The compute platform will be implemented on an application processor (SBC) that handles compute-intensive tasks such as image processing and path planning. Realistically, there’s no world in which Linux isn’t the operating system in use onboard the compute platform. The choice really comes down to how to maintain the Linux system. In particular, there are a few things we value:</p>
<ul class="simple">
<li><p><strong>Reproducibility</strong> - We want to be able to reproduce the exact same system image at any time in the future, whether for bug fixes, updates, or new hardware revisions. This includes not just the application software but also the underlying OS and all dependencies.</p></li>
<li><p><strong>Customization</strong> - We may need to customize the Linux kernel or other system components to meet specific performance or functionality requirements. A build system that allows for easy customization is essential.</p></li>
<li><p><strong>Maintainability</strong> - The system should be easy to maintain and update over time, with a clear process for applying updates and managing dependencies.</p></li>
<li><p><strong>Portability</strong> - It’s not entirely clear how small/low-power of an SBC we can get away with, and we can’t really know until the software is largely done. We need a system that can be easily ported to different hardware platforms as needed.</p></li>
</ul>
<p>There are effectively two choices: using a pre-built Linux distribution (such as Raspberry Pi OS, Ubuntu, etc.) and customizing it as needed through scripts, or using an embedded Linux build system (such as Yocto, Buildroot, etc.) to create a custom Linux distribution tailored to our specific needs.</p>
</section>
<section id="decision">
<h2>Decision<a class="headerlink" href="#decision" title="Link to this heading"></a></h2>
<p>We will use Yocto to build a custom embedded Linux distribution for the compute platform. Yocto meets our requirements for reproducibility, customization, and maintainability. It allows us to define the entire system configuration in a set of recipes and configuration files, enabling us to reproduce the same system image consistently. Yocto also provides a high degree of customization, allowing us to tailor the Linux kernel and other system components to our specific needs. Additionally, Yocto has a large and active community, which can provide support and resources as needed.</p>
</section>
<section id="consequences">
<h2>Consequences<a class="headerlink" href="#consequences" title="Link to this heading"></a></h2>
<p>Using Yocto will require a significant initial investment in time and effort to set up the build system and create the necessary recipes and configuration files. Much of this can be reused from existing projects (i.e. AutonomOS), but there will still be at least one custom layer required for Benji-specific applications. That said, the benefits are worth it, especially since we can reuse an existing project. We can also more easily integrate an OTA update mechanism (e.g. Mender) to make the system significantly easier to maintain over time.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
<p>
  &#169; Copyright 2025, Cave in the Mountains.
</p>

  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>